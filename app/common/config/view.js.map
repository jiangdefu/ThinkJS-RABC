{
    "version": 3,
    "sources": [
        "../../../src/common/config/view.js"
    ],
    "names": [
        "type",
        "content_type",
        "file_ext",
        "file_depr",
        "root_path",
        "think",
        "ROOT_PATH",
        "adapter",
        "nunjucks",
        "prerender",
        "env",
        "addFilter",
        "size",
        "delimiter",
        "units",
        "i",
        "Math",
        "round",
        "d",
        "sec",
        "time",
        "date",
        "Date",
        "y",
        "getFullYear",
        "M",
        "getMonth",
        "getDate",
        "h",
        "getHours",
        "m",
        "getMinutes",
        "s",
        "getSeconds",
        "config",
        "moment",
        "require",
        "locale",
        "isEmpty",
        "fromNow",
        "format",
        "fmt",
        "parseInt",
        "Number",
        "toFixed"
    ],
    "mappings": "AAAA;AACA;;;;;kBAGe;AACZA,UAAM,UADM;AAEXC,kBAAc,WAFH;AAGXC,cAAU,OAHC;AAIXC,eAAW,GAJA;AAKXC,eAAWC,MAAMC,SAAN,GAAkB,OALlB;AAMXC,aAAS;AACLC,kBAAU;AACNC,uBAAW,mBAACD,QAAD,EAAWE,GAAX,EAAmB;AAC1B;;;;;;AAMAA,oBAAIC,SAAJ,CAAc,cAAd,EAA8B,UAAUC,IAAV,EAAgC;AAAA,wBAAhBC,SAAgB,uEAAJ,EAAI;;AAC1D,wBAAIC,QAAQ,CAAC,GAAD,EAAM,IAAN,EAAY,IAAZ,EAAkB,IAAlB,EAAwB,IAAxB,EAA8B,IAA9B,CAAZ;AACA,yBAAK,IAAIC,IAAI,CAAb,EAAgBH,QAAQ,IAAR,IAAgBG,IAAI,CAApC,EAAuCA,GAAvC;AAA4CH,gCAAQ,IAAR;AAA5C,qBACA,OAAOI,KAAKC,KAAL,CAAWL,OAAO,GAAlB,IAAyB,GAAzB,GAA+BC,SAA/B,GAA2CC,MAAMC,CAAN,CAAlD;AACH,iBAJD;;AAMA;;;AAGAL,oBAAIC,SAAJ,CAAc,aAAd,EAA6B,UAAUO,CAAV,EAAaC,GAAb,EAAkB;AAC3C,wBAAIC,IAAJ;AACA,wBAAIC,OAAO,IAAIC,IAAJ,CAASJ,CAAT,CAAX;AACA,wBAAIK,IAAIF,KAAKG,WAAL,EAAR;AACA,wBAAIC,IAAIJ,KAAKK,QAAL,KAAkB,CAA1B;AACAD,wBAAIA,IAAI,EAAJ,GAAS,MAAMA,CAAf,GAAmBA,CAAvB;AACA,wBAAIP,IAAIG,KAAKM,OAAL,EAAR;AACAT,wBAAIA,IAAI,EAAJ,GAAS,MAAMA,CAAf,GAAmBA,CAAvB;AACA,wBAAIU,IAAIP,KAAKQ,QAAL,EAAR;AACAD,wBAAIA,IAAI,EAAJ,GAAS,MAAMA,CAAf,GAAmBA,CAAvB;AACA,wBAAIE,IAAIT,KAAKU,UAAL,EAAR;AACAD,wBAAIA,IAAI,EAAJ,GAAS,MAAMA,CAAf,GAAmBA,CAAvB;AACA,wBAAIE,IAAIX,KAAKY,UAAL,EAAR;AACAD,wBAAIA,IAAI,EAAJ,GAAS,MAAMA,CAAf,GAAmBA,CAAvB;AACA,wBAAIb,GAAJ,EAAS;AACLC,+BAAOG,IAAI,GAAJ,GAAUE,CAAV,GAAc,GAAd,GAAoBP,CAApB,GAAwB,GAAxB,GAA8BU,CAA9B,GAAkC,GAAlC,GAAwCE,CAAxC,GAA4C,GAA5C,GAAkDE,CAAzD;AACH,qBAFD,MAEO;AACHZ,+BAAOG,IAAI,GAAJ,GAAUE,CAAV,GAAc,GAAd,GAAoBP,CAA3B;AACH;AACD,2BAAOE,IAAP;AACH,iBApBD;AAqBA;;;;;AAKAV,oBAAIC,SAAJ,CAAc,QAAd,EAAuB,UAAUS,IAAV,EAAec,MAAf,EAAuB;AAC1C,wBAAIC,SAASC,QAAQ,QAAR,CAAb;AACAD,2BAAOE,MAAP,CAAc,OAAd;AACA,wBAAGhC,MAAMiC,OAAN,CAAcJ,MAAd,CAAH,EAAyB;AACrB,+BAAOC,OAAOf,IAAP,EAAamB,OAAb,EAAP;AACH,qBAFD,MAEM;AACF,+BAAOJ,OAAOf,IAAP,EAAaoB,MAAb,CAAoBN,MAApB,CAAP;AACH;AACJ,iBARD;AASA;;;AAGAxB,oBAAIC,SAAJ,CAAc,cAAd,EAA6B,UAASO,CAAT,EAAWuB,GAAX,EAAe;AACxC,wBAAGA,OAAK,CAAR,EAAU;AACN,+BAAOC,SAASxB,CAAT,CAAP;AACH,qBAFD,MAGK;AACD,+BAAOyB,OAAOzB,CAAP,EAAU0B,OAAV,CAAkBH,GAAlB,CAAP;AACH;AACJ,iBAPD;AAUH;AAjEK;AADL;AANE,C",
    "file": "../../../src/common/config/view.js",
    "sourcesContent": [
        "'use strict';\n/**\n * template config\n */\nexport default {\n   type: 'nunjucks',\n    content_type: 'text/html',\n    file_ext: '.html',\n    file_depr: '/',\n    root_path: think.ROOT_PATH + '/view',\n    adapter: {\n        nunjucks: {\n            prerender: (nunjucks, env) => {\n                /**\n                 * 格式化字节大小\n                 * @param  number size      字节数\n                 * @param  string delimiter 数字和单位分隔符\n                 * @return string            格式化后的带单位的大小\n                 */\n                env.addFilter(\"format_bytes\", function (size, delimiter = '') {\n                    let units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB'];\n                    for (var i = 0; size >= 1024 && i < 5; i++) size /= 1024;\n                    return Math.round(size * 100) / 100 + delimiter + units[i];\n                });\n\n                /**\n                 * 格式化时间\n                 */\n                env.addFilter(\"format_time\", function (d, sec) {\n                    var time;\n                    var date = new Date(d);\n                    var y = date.getFullYear();\n                    var M = date.getMonth() + 1;\n                    M = M < 10 ? \"0\" + M : M;\n                    var d = date.getDate();\n                    d = d < 10 ? \"0\" + d : d;\n                    var h = date.getHours();\n                    h = h < 10 ? \"0\" + h : h;\n                    var m = date.getMinutes();\n                    m = m < 10 ? \"0\" + m : m;\n                    var s = date.getSeconds();\n                    s = s < 10 ? \"0\" + s : s;\n                    if (sec) {\n                        time = y + \"-\" + M + \"-\" + d + \" \" + h + \":\" + m + \":\" + s;\n                    } else {\n                        time = y + \"-\" + M + \"-\" + d;\n                    }\n                    return time;\n                })\n                /**\n                 * moment\n                 * YYYY-MM-DD HH:mm:ss\n                 * lll\n                 */\n                env.addFilter(\"moment\",function (time,config) {\n                    let moment = require('moment');\n                    moment.locale('zh-cn');\n                    if(think.isEmpty(config)){\n                        return moment(time).fromNow();\n                    }else {\n                        return moment(time).format(config);\n                    }\n                })\n                /**\n                 * 格式化数字\n                 */\n                env.addFilter(\"format_money\",function(d,fmt){\n                    if(fmt==0){\n                        return parseInt(d);\n                    }\n                    else {\n                        return Number(d).toFixed(fmt);\n                    }\n                })\n\n                \n            }\n        }\n    }\n};"
    ]
}