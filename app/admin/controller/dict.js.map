{
    "version": 3,
    "sources": [
        "../../../src/admin/controller/dict.js"
    ],
    "names": [
        "init",
        "http",
        "indexAction",
        "model",
        "getDictByGroupCode",
        "display",
        "loaddictAction",
        "loadDictTable",
        "param",
        "result",
        "json",
        "statusAction",
        "rsp",
        "status",
        "msg",
        "think",
        "config",
        "isEmpty",
        "updateStatus",
        "addAction",
        "editAction",
        "findDict",
        "assign",
        "editdictAction",
        "dict",
        "code",
        "name",
        "value",
        "id",
        "updateDict",
        "adddictAction",
        "delstatus",
        "gid",
        "addDict",
        "delAction",
        "delDict",
        "geticonAction"
    ],
    "mappings": "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",
    "file": "../../../src/admin/controller/dict.js",
    "sourcesContent": [
        "// +----------------------------------------------------------------------\r\n// | ThinkJS-RABC [ 通用权限管理系统 ]\r\n// +----------------------------------------------------------------------\r\n// | Nanjing Digital Technology Co., Ltd.\r\n// +----------------------------------------------------------------------\r\n// | Copyright (c) 2017 http://www.51-health.com All rights reserved.\r\n// +----------------------------------------------------------------------\r\n// | Author: Devlin <Devlinheart@qq.com>\r\n// +----------------------------------------------------------------------\r\n// | Create: 2017-06-20\r\n// +----------------------------------------------------------------------\r\n\r\n'use strict';\r\n\r\nimport Base from './base.js';\r\n\r\nexport default class extends Base {\r\n\r\n    init(http){\r\n        this.http = http;\r\n    }\r\n\r\n    indexAction(){\r\n        this.model(\"dict\").getDictByGroupCode(null);\r\n        return this.display();\r\n    }\r\n    /**\r\n     * 加载字典数据\r\n     */\r\n\r\n    async loaddictAction(){\r\n        let result = await this.model(\"dict\").loadDictTable(this.param(\"gid\")||0,this.param(\"offset\"),this.param(\"limit\"),\"id\",this.param(\"param\"));\r\n        return this.json(result);\r\n    }\r\n    /**\r\n     * 更新状态\r\n     */\r\n    async statusAction(){\r\n         let rsp = {\r\n            status:-1,\r\n            msg:think.config(\"message.fail_msg\")\r\n        }\r\n        if(!think.isEmpty(this.param(\"id\"))&&!think.isEmpty(this.param(\"status\"))){\r\n            let result = await this.model(\"dict\").updateStatus(this.param(\"id\"),this.param(\"status\"));\r\n            if(!think.isEmpty(result)){\r\n                rsp.status = 1;\r\n                rsp.msg = think.config(\"message.success_msg\");\r\n            }\r\n        }   \r\n        else{\r\n            rsp.msg = think.config(\"message.empty_param\");\r\n        }\r\n        return this.json(rsp);\r\n    }\r\n    /**\r\n     * 添加字典\r\n     */\r\n    async addAction(){\r\n        return this.display();\r\n    }\r\n    /**\r\n     * 编辑字典\r\n     */\r\n    async editAction(){\r\n        if(!think.isEmpty(this.param(\"id\"))){\r\n            let result = await this.model(\"dict\").findDict(this.param(\"id\"));\r\n            this.assign(\"dict\",result);\r\n        }\r\n        return this.display();\r\n    }\r\n    async editdictAction(){\r\n        let rsp = {\r\n            status:0,\r\n            msg:think.config(\"message.empty_param\")\r\n        }\r\n        let dict = {};\r\n      \r\n        if(!think.isEmpty(this.param(\"code\"))){\r\n            dict.code = this.param(\"code\");\r\n        }\r\n        if(!think.isEmpty(this.param(\"name\"))){\r\n            dict.name = this.param(\"name\");\r\n        }\r\n        if(!think.isEmpty(this.param(\"value\"))){\r\n            dict.value = this.param(\"value\");\r\n        }\r\n        if(!think.isEmpty(this.param(\"status\"))){\r\n            dict.status = this.param(\"status\");\r\n        }\r\n        if(!think.isEmpty(this.param(\"id\"))){\r\n            dict.id = this.param(\"id\");\r\n            let result  = await this.model(\"dict\").updateDict(dict);\r\n            if(result.status==-2){\r\n                rsp.status = 0;\r\n                rsp.msg = think.config(\"message.data_exist_msg\");\r\n            }\r\n            else if(result.status==-1){\r\n                rsp.status = 0;\r\n                rsp.msg = think.config(\"message.fail_msg\");\r\n            }\r\n            else{\r\n                rsp.status = result.status;\r\n                rsp.msg = think.config(\"message.success_msg\");\r\n            }\r\n        }\r\n        return this.json(rsp);\r\n    }\r\n    /**\r\n     * 添加字典值\r\n     */\r\n    async adddictAction(){\r\n        let rsp = {\r\n            status:-1,\r\n            msg:think.config(\"message.empty_param\")\r\n        }\r\n        let dict = {\r\n            status:1,\r\n            delstatus:1\r\n        };\r\n        if(!think.isEmpty(this.param(\"code\"))){\r\n            dict.code = this.param(\"code\");\r\n        }\r\n        if(!think.isEmpty(this.param(\"gid\"))){\r\n            dict.gid = this.param(\"gid\");\r\n        }\r\n        if(!think.isEmpty(this.param(\"name\"))){\r\n            dict.name = this.param(\"name\");\r\n        }\r\n        if(!think.isEmpty(this.param(\"value\"))){\r\n            dict.value = this.param(\"value\");\r\n        }\r\n        let result = await this.model(\"dict\").addDict(dict);\r\n        if(!think.isEmpty(result)){\r\n            if(result.status==1){\r\n                rsp.status = result.status;\r\n                rsp.msg = think.config(\"message.success_msg\");\r\n            }\r\n            else if(result.status==2){\r\n                rsp.status = 0;\r\n                rsp.msg = think.config(\"message.data_exist_msg\");\r\n            }\r\n            else{\r\n                rsp.status = 0;\r\n                rsp.msg = think.config(\"message.fail_msg\");\r\n            }\r\n        }\r\n        return this.json(rsp);\r\n    }\r\n    /**\r\n     * 删除\r\n     */\r\n    async delAction(){\r\n        let rsp = {\r\n            status:0,\r\n            msg:think.config(\"message.empty_param\")\r\n        }\r\n        if(!think.isEmpty(this.param(\"id\"))){\r\n            let result = await this.model(\"dict\").delDict(this.param(\"id\"));\r\n            if(!think.isEmpty(result)){\r\n                rsp.status = 1\r\n                rsp.msg = think.config(\"message.del_success_msg\");\r\n            }\r\n            else{\r\n                 rsp.msg = think.config(\"message.del_fail_msg\");\r\n            }\r\n        }\r\n        return this.json(rsp);\r\n    }\r\n    /**\r\n     * 获取所有图标\r\n     */\r\n    async geticonAction(){\r\n        return await this.model(\"dict\").getDictByGroupCode(\"sys_dict_group_icon\");\r\n    }\r\n}"
    ]
}