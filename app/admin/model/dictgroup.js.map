{
    "version": 3,
    "sources": [
        "../../../src/admin/model/dictgroup.js"
    ],
    "names": [
        "loadDictGroupTreeTable",
        "model",
        "where",
        "delstatus",
        "status",
        "select",
        "result",
        "data",
        "think",
        "isEmpty",
        "loadDictGroupTable",
        "pid",
        "offset",
        "limit",
        "order",
        "param",
        "str_obj",
        "name",
        "count",
        "total",
        "rows",
        "updateDictGroup",
        "dictGroup",
        "id",
        "update",
        "addDictGroup",
        "thenAdd",
        "code",
        "loadDictGroupTree",
        "treeList",
        "Array",
        "push",
        "open",
        "forEach",
        "element",
        "updateStatus",
        "base"
    ],
    "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKI;;;qBAGMA,sB;;;;;;;;mCACkB,KAAKC,KAAL,CAAW,aAAX,EAA0BC,KAA1B,CAAgC,EAACC,WAAU,CAAX,EAAaC,QAAO,CAApB,EAAhC,EAAwDC,MAAxD,E;;;AAAhBC,kC;AACAC,gC,GAAO,I;;AACX,gCAAG,CAACC,MAAMC,OAAN,CAAcH,MAAd,CAAJ,EAA0B,CAEzB;6DACMC,I;;;;;;;;;;;;;;;;;AAGX;;;;;;;;;;qBAQMG,kB;+GAAmBC,G,EAAIC,M,EAAOC,K,EAAMC,K,EAAMC,K;;;;;;AACxCC,mC,GAAU,EAACb,WAAU,CAAX,E;;AACd,gCAAG,CAACK,MAAMC,OAAN,CAAcE,GAAd,CAAJ,EAAuB;AACnBK,wCAAQL,GAAR,GAAcA,GAAd;AACH;AACD,gCAAG,CAACH,MAAMC,OAAN,CAAcM,KAAd,CAAJ,EAAyB;AACrBC,wCAAQC,IAAR,GAAeF,KAAf;AACH;;mCACgB,KAAKd,KAAL,CAAW,aAAX,EAA0BC,KAA1B,CAAgCc,OAAhC,EAAyCF,KAAzC,CAAgDA,QAAM,OAAtD,EAA+DD,KAA/D,CAAqED,MAArE,EAA4EC,KAA5E,EAAmFR,MAAnF,E;;;AAAbE,gC;;mCACc,KAAKN,KAAL,CAAW,aAAX,EAA0BC,KAA1B,CAAgCc,OAAhC,EAAyCE,KAAzC,E;;;AAAdA,iC;8DACG,EAACC,OAAMD,KAAP,EAAaE,MAAKb,IAAlB,E;;;;;;;;;;;;;;;;AAEX;;;;;;qBAIMc,e;+GAAgBC,S;;;;;;mCACJ,KAAKrB,KAAL,CAAW,aAAX,EAA0BC,KAA1B,CAAgC,EAACqB,IAAGD,UAAUC,EAAd,EAAhC,EAAmDC,MAAnD,CAA0DF,SAA1D,C;;;;;;;;;;;;;;;;;;;AAElB;;;;;;qBAIMG,Y;+GAAaH,S;;;;;;mCACF,KAAKrB,KAAL,CAAW,aAAX,EAA0ByB,OAA1B,CAAkCJ,SAAlC,EAA4C,EAACK,MAAKL,UAAUK,IAAhB,EAAqBxB,WAAU,CAA/B,EAA5C,C;;;;;;;;;;;;;;;;;;;AAEjB;;;;;qBAGMyB,iB;;;;;;;;mCACiB,KAAK3B,KAAL,CAAW,aAAX,EAA0BC,KAA1B,CAAgC,EAACC,WAAU,CAAX,EAAaC,QAAO,CAApB,EAAhC,EAAwDC,MAAxD,E;;;AAAfC,kC;AACAuB,oC,GAAW,IAAIC,KAAJ,E;;AACfD,qCAASE,IAAT,CAAc,EAACR,IAAG,CAAJ,EAAMZ,KAAI,CAAC,CAAX,EAAaM,MAAK,KAAlB,EAAwBU,MAAK,YAA7B,EAA0CK,MAAK,IAA/C,EAAd;AACA1B,mCAAO2B,OAAP,CAAe,UAASC,OAAT,EAAkB;AAC5BL,yCAASE,IAAT,CAAc,EAACR,IAAGW,QAAQX,EAAZ,EAAeZ,KAAI,CAAnB,EAAqBM,MAAKiB,QAAQjB,IAAlC,EAAuCU,MAAKO,QAAQP,IAApD,EAAd;AACJ,6BAFD,EAEG,IAFH;8DAGOE,Q;;;;;;;;;;;;;;;;AAEX;;;;;;;qBAKMM,Y;+GAAaZ,E,EAAGnB,M;;;;;;mCACL,KAAKH,KAAL,CAAW,aAAX,EAA0BC,KAA1B,CAAgC,EAACqB,IAAGA,EAAJ,EAAhC,EAAyCC,MAAzC,CAAgD,EAACpB,QAAOA,MAAR,EAAhD,C;;;;;;;;;;;;;;;;;;;;;EAlEQI,MAAMP,KAAN,CAAYmC,I",
    "file": "../../../src/admin/model/dictgroup.js",
    "sourcesContent": [
        "// +----------------------------------------------------------------------\r\n// | ThinkJS-RABC [ 通用权限管理系统 ] \r\n// +----------------------------------------------------------------------\r\n// | Nanjing Digital Technology Co., Ltd.\r\n// +----------------------------------------------------------------------\r\n// | Copyright (c) 2017 http://www.51-health.com All rights reserved.\r\n// +----------------------------------------------------------------------\r\n// | Author: Devlin <Devlinheart@qq.com>[ 南京数遥科技有限公司 ]\r\n// +----------------------------------------------------------------------\r\n// | Create: 2017-06-20\r\n// +----------------------------------------------------------------------\r\n\r\n'use strict';\r\n/**\r\n * model\r\n */\r\nexport default class extends think.model.base {\r\n\r\n    /**\r\n     * 加载字典组Tree表格\r\n     */\r\n    async loadDictGroupTreeTable(){\r\n        let result  = await this.model(\"setup_group\").where({delstatus:1,status:1}).select();\r\n        let data = null;\r\n        if(!think.isEmpty(result)){\r\n            \r\n        }\r\n        return data;\r\n    }\r\n\r\n    /**\r\n     * 加载字典组表格\r\n     * @param {*} pid \r\n     * @param {*} offset \r\n     * @param {*} limit \r\n     * @param {*} order \r\n     * @param {*} param \r\n     */\r\n    async loadDictGroupTable(pid,offset,limit,order,param){\r\n        let str_obj = {delstatus:1};\r\n        if(!think.isEmpty(pid)){\r\n            str_obj.pid = pid;\r\n        }\r\n        if(!think.isEmpty(param)){\r\n            str_obj.name = param;\r\n        }\r\n        let data = await this.model(\"setup_group\").where(str_obj).order( order+\" desc\").limit(offset,limit).select();\r\n        let count = await this.model(\"setup_group\").where(str_obj).count();\r\n        return {total:count,rows:data};\r\n    }\r\n    /**\r\n     * 更新字典组\r\n     * @param {*} dictGroup \r\n     */\r\n    async updateDictGroup(dictGroup){\r\n         return await this.model(\"setup_group\").where({id:dictGroup.id}).update(dictGroup); \r\n    }\r\n    /**\r\n     * 添加字典组\r\n     * @param {*} dictGroup \r\n     */\r\n    async addDictGroup(dictGroup){\r\n        return await this.model(\"setup_group\").thenAdd(dictGroup,{code:dictGroup.code,delstatus:1}); \r\n    }\r\n    /**\r\n     * 加载字典树\r\n     */\r\n    async loadDictGroupTree(){\r\n        let result = await this.model(\"setup_group\").where({delstatus:1,status:1}).select();\r\n        let treeList = new Array();\r\n        treeList.push({id:0,pid:-1,name:\"字典组\",code:\"dict_group\",open:true});\r\n        result.forEach(function(element) {\r\n             treeList.push({id:element.id,pid:0,name:element.name,code:element.code});\r\n        }, this);\r\n        return treeList;\r\n    }\r\n    /**\r\n     * 更新状态\r\n     * @param {*} id \r\n     * @param {*} status \r\n     */\r\n    async updateStatus(id,status){\r\n        return await this.model(\"setup_group\").where({id:id}).update({status:status});\r\n    }\r\n}"
    ]
}